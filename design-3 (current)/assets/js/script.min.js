const checkbox=document.getElementById("checkbox"),s2_2=document.getElementById("s2-2"),linkedRoutes=document.querySelectorAll(".linked-route"),expoUnits=document.querySelectorAll(".exp-unit"),smallFontElements=document.querySelectorAll(".smallfont"),currentYearSpan=document.getElementById("currentYear"),currentYear=(new Date).getFullYear();currentYearSpan.textContent=currentYear;const popupLinks=document.getElementsByClassName("popupLink"),popups=document.getElementsByClassName("popup"),closeIcons=document.getElementsByClassName("close-icon"),setModePreference=e=>{localStorage.setItem("modePreference",e)},getModePreference=()=>localStorage.getItem("modePreference"),applyModePreference=()=>{"light"===localStorage.getItem("modePreference")?applyLightMode():applyDarkMode()},applyLightMode=()=>{checkbox.checked=!0,s2_2.style.borderLeft="1px solid #000",document.body.style.backgroundColor="#fff",document.body.style.color="#000",smallFontElements.forEach((e=>{e.style.color="rgb(0, 0, 0)"})),changeFontColors("rgb(34,34,34)"),addLinkedRouteListeners("rgb(34,34,34)")},applyDarkMode=()=>{checkbox.checked=!1,s2_2.style.borderLeft="1px solid #ffffff",document.body.style.backgroundColor="#000",document.body.style.color="#fff",smallFontElements.forEach((e=>{e.style.color="#fff"})),changeFontColors("rgb(255,255,255)","rgb(156,156,156)"),addLinkedRouteListeners("#ffffff")},changeFontColors=(e,o=null)=>{document.querySelectorAll(".whitefont, .greyfont, .whitefont-secondary").forEach((o=>{o.style.color=e})),o&&document.querySelectorAll(".greyfont").forEach((e=>{e.style.color=o}))},addLinkedRouteListeners=e=>{expoUnits.forEach((o=>{const t=o.querySelector(".linked-route");t.style.color=e,o.addEventListener("mouseover",(()=>{o.style.cursor="pointer"})),o.addEventListener("mouseout",(()=>{})),o.addEventListener("click",(e=>{e.preventDefault();const o=t.getAttribute("href");o&&window.open(o,"_blank")}))}))};function closeAllPopups(){for(let e=0;e<popups.length;e++)popups[e].style.display="none",popups[e].classList.remove("active")}window.addEventListener("scroll",(function(){const e=document.querySelector(".navrow"),o=window.scrollY,t=e.querySelector("#arfazhxsse"),l=e.querySelector(".material-icons"),r=Math.min(1,(o-0)/100);e.style.backgroundColor=`rgba(255, 255, 255, ${.5*r})`,e.style.backdropFilter=`blur(${2*r}px)`,e.style.border=1*r+"px solid rgb(235, 238, 241)",t.src=r<.5?"assets/img/notBlurred.svg":"assets/img/DarkIVER.svg",l.style.color=r<.5?"#ffffff":"#011E15"}));for(let e=0;e<popupLinks.length;e++)popupLinks[e].addEventListener("click",(()=>{closeAllPopups(),popups[e].style.display="block",popups[e].classList.add("active")}));for(let e=0;e<closeIcons.length;e++)closeIcons[e].addEventListener("click",(()=>{popups[e].style.display="none",popups[e].classList.remove("active")}));